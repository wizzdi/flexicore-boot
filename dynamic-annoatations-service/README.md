a minimized port of https://github.com/XDean/Java-EX